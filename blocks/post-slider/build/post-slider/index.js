(()=>{"use strict";var e,o={232:(e,o,s)=>{const l=window.wp.blocks,a=window.wp.i18n,n=window.wp.blockEditor,t=window.wp.components,r=window.wp.serverSideRender;var i=s.n(r);const c=window.wp.apiFetch;var d=s.n(c);const u=window.React,h=window.ReactJSXRuntime,p=JSON.parse('{"UU":"nasio-block/post-slider"}');(0,l.registerBlockType)(p.UU,{edit:function({attributes:e,setAttributes:o,className:s}){const{numberOfPosts:l,postCategory:r,showFeaturedImage:c,showFallbackImage:p,showExcerpt:b,showAuthor:g,showDate:w,slidesPerView:_,slidesPerGroup:k,sliderHeight:v,spaceBetween:m,loop:f,displayMode:C,autoplay:x,autoplayDelay:y,showDots:S,showArrows:j,draggable:P,includeStickyPost:O,contentPosition:T,imageOverlay:I,arrowOffset:D}=e,[R,A]=(0,u.useState)([]),[F,N]=(0,u.useState)(!0),B=(0,u.useRef)(null),E=(0,u.useRef)(null);(0,u.useEffect)((()=>{d()({path:"/wp/v2/categories"}).then((e=>{const o=[{label:(0,a.__)("All Categories","nasio-blocks"),value:""},...e.map((e=>({label:e.name,value:e.id.toString()})))];A(o),N(!1)}))}),[]);const M=(0,u.useCallback)((()=>{if(!B.current)return;if(void 0===window.Swiper)return void console.error("Swiper is not loaded in the editor");const e=B.current.querySelector(".nasio-post-slider");E.current&&(E.current.destroy(),E.current=null);const o={slidesPerView:"carousel"===C?parseInt(_):1,sliderHeight:"fullwidth"===C?parseInt(v):0,spaceBetween:"carousel"===C?parseInt(m):0,slidesPerGroup:"carousel"===C?parseInt(k):1,rewind:f,observer:!0,observeParents:!0,allowTouchMove:P,simulateTouch:P,keyboard:{enabled:!0,onlyInViewport:!0}};x&&(o.autoplay={delay:y,disableOnInteraction:!1,pauseOnMouseEnter:!0}),S&&(o.pagination={el:".swiper-pagination",clickable:!0}),j&&(o.navigation={nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}),"carousel"===C&&(o.slidesPerView=1,o.slidesPerGroup=1,o.breakpoints={480:{slidesPerView:Math.min(2,_),slidesPerGroup:Math.min(2,k)},768:{slidesPerView:parseInt(_),slidesPerGroup:parseInt(k)}});try{E.current=new window.Swiper(e,o)}catch(e){console.error("Error initializing Swiper:",e)}}),[C,_,k,v,m,f,x,y,S,j,P,D]);(0,u.useEffect)((()=>{if(!B.current)return;const e=new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)if("DIV"===e.tagName&&e.classList.contains("ssr"))return void setTimeout((()=>{M()}),500)}));return e.observe(B.current,{childList:!0,subtree:!0}),()=>e.disconnect()}),[M]);const V=(0,n.useBlockProps)({className:`wp-block-nasio-block-post-slider is-display-mode-${C} is-editor-preview ${s||""}`,style:{"--swiper-navigation-sides-dynamic-offset":`${D}px`}});return(0,h.jsxs)("div",{...V,children:[(0,h.jsxs)(n.InspectorControls,{children:[(0,h.jsxs)(t.PanelBody,{title:"carousel"===C?(0,a.__)("Carousel Settings","nasio-blocks"):(0,a.__)("Slider Settings","nasio-blocks"),children:[(0,h.jsx)(t.SelectControl,{label:(0,a.__)("Display Mode","nasio-blocks"),value:C,help:(0,a.__)("Choose the post carousel if you want to display multiple columns. The fullwidth slider mode is perfect for fullwidth slides.","nasio-blocks"),options:[{label:(0,a.__)("Carousel","nasio-blocks"),value:"carousel"},{label:(0,a.__)("Fullwidth Slider","nasio-blocks"),value:"fullwidth"}],onChange:e=>o({displayMode:e})}),"carousel"===C&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(t.RangeControl,{label:(0,a.__)("Slides Per View","nasio-blocks"),value:_,onChange:e=>o({slidesPerView:e}),min:1,max:5,help:(0,a.__)("The number of slides visible on the screen.","nasio-blocks")}),(0,h.jsx)(t.RangeControl,{label:(0,a.__)("Slides Per Group","nasio-blocks"),value:k,onChange:e=>o({slidesPerGroup:e}),min:1,max:5,help:(0,a.__)("The number of slides to advance.","nasio-blocks")}),(0,h.jsx)(t.RangeControl,{label:(0,a.__)("Space Between Slides (px)","nasio-blocks"),value:m,onChange:e=>o({spaceBetween:e}),min:0,max:50})]}),"fullwidth"===C&&(0,h.jsx)(t.RangeControl,{label:(0,a.__)("Slider Overlay","nasio-blocks"),value:I||2,onChange:e=>o({imageOverlay:e}),min:1,max:10,help:(0,a.__)("Darkens the featured image. Default is 2. Higher values create a darker overlay.","nasio-blocks")}),"fullwidth"===C&&(0,h.jsx)(t.RangeControl,{label:(0,a.__)("Slider height (px)","nasio-blocks"),value:v,onChange:e=>o({sliderHeight:e}),min:250,max:1e3}),(0,h.jsx)(t.ToggleControl,{label:(0,a.__)("Show Dots (Pagination)","nasio-blocks"),checked:S,onChange:()=>o({showDots:!S})}),(0,h.jsx)(t.ToggleControl,{label:(0,a.__)("Show Arrows (Navigation)","nasio-blocks"),checked:j,onChange:()=>o({showArrows:!j})}),j&&(0,h.jsx)(t.RangeControl,{label:(0,a.__)("Arrow Offset (px)","nasio-blocks"),value:D,onChange:e=>o({arrowOffset:e}),min:-80,max:20,help:(0,a.__)("Choose how to position the arrows relative to the slider. Negative values move the arrows outside the slider.","nasio-blocks")}),(0,h.jsx)(t.ToggleControl,{label:(0,a.__)("Drag Slides","nasio-blocks"),checked:P,onChange:()=>o({draggable:!P})}),(0,h.jsx)(t.ToggleControl,{label:"carousel"===C?(0,a.__)("Loop Carousel","nasio-blocks"):(0,a.__)("Loop Slider","nasio-blocks"),checked:f,onChange:()=>o({loop:!f})}),(0,h.jsx)(t.ToggleControl,{label:(0,a.__)("Autoplay","nasio-blocks"),checked:x,onChange:()=>o({autoplay:!x})}),x&&(0,h.jsx)(t.RangeControl,{label:(0,a.__)("Autoplay Delay (ms)","nasio-blocks"),value:y,onChange:e=>o({autoplayDelay:e}),min:1e3,max:1e4,step:500})]}),(0,h.jsxs)(t.PanelBody,{title:(0,a.__)("Post Settings","nasio-blocks"),children:[(0,h.jsx)(t.RangeControl,{label:(0,a.__)("Number of Posts","nasio-blocks"),value:l,onChange:e=>o({numberOfPosts:e}),min:1,max:20}),!F&&(0,h.jsx)(t.SelectControl,{label:(0,a.__)("Category","nasio-blocks"),value:r,options:R,onChange:e=>o({postCategory:e})}),"fullwidth"===C&&(0,h.jsx)(t.SelectControl,{label:(0,a.__)("Content Position","nasio-blocks"),value:T||"overlay-center",options:[{label:(0,a.__)("Text Overlay (Top)","nasio-blocks"),value:"overlay-top"},{label:(0,a.__)("Text Overlay (Center)","nasio-blocks"),value:"overlay-center"},{label:(0,a.__)("Text Overlay (Bottom)","nasio-blocks"),value:"overlay-bottom"}],onChange:e=>o({contentPosition:e}),help:(0,a.__)("Choose where to position the post content in the fullwidth slider. For this to work, you need to add featured images to the posts you want to display.","nasio-blocks")}),(0,h.jsx)(t.ToggleControl,{label:(0,a.__)("Show Featured Image","nasio-blocks"),checked:c,onChange:()=>o({showFeaturedImage:!c})}),c&&"carousel"===C&&(0,h.jsx)(t.ToggleControl,{label:(0,a.__)("Show Fallback Image","nasio-blocks"),checked:p,onChange:()=>o({showFallbackImage:!p}),help:(0,a.__)("Show image placeholder when there is no featured image.","nasio-blocks")}),(0,h.jsx)(t.ToggleControl,{label:(0,a.__)("Show Excerpt","nasio-blocks"),checked:b,onChange:()=>o({showExcerpt:!b})}),(0,h.jsx)(t.ToggleControl,{label:(0,a.__)("Show Author","nasio-blocks"),checked:g,onChange:()=>o({showAuthor:!g})}),(0,h.jsx)(t.ToggleControl,{label:(0,a.__)("Show Date","nasio-blocks"),checked:w,onChange:()=>o({showDate:!w})}),(0,h.jsx)(t.ToggleControl,{label:(0,a.__)("Include Sticky Post","nasio-blocks"),checked:O,onChange:()=>o({includeStickyPost:!O})})]})]}),(0,h.jsxs)("div",{className:"nasio-post-slider-preview",ref:B,children:[(0,h.jsx)("h3",{className:"nasio-slider-editor-title",children:"carousel"===C?(0,a.__)("Post Carousel Preview","nasio-blocks"):(0,a.__)("Fullwidth Slider Preview","nasio-blocks")}),F?(0,h.jsxs)("div",{className:"loading-spinner",children:[(0,h.jsx)(t.Spinner,{}),(0,h.jsx)("p",{children:(0,a.__)("Loading categories...","nasio-blocks")})]}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(i(),{skipBlockSupportAttributes:!0,block:"nasio-block/post-slider",attributes:e,className:"ssr"})})]})]})},save:function(){return(0,h.jsx)("p",{...n.useBlockProps.save(),children:"Post Slider â€“ hello from the saved content!"})}})}},s={};function l(e){var a=s[e];if(void 0!==a)return a.exports;var n=s[e]={exports:{}};return o[e](n,n.exports,l),n.exports}l.m=o,e=[],l.O=(o,s,a,n)=>{if(!s){var t=1/0;for(d=0;d<e.length;d++){for(var[s,a,n]=e[d],r=!0,i=0;i<s.length;i++)(!1&n||t>=n)&&Object.keys(l.O).every((e=>l.O[e](s[i])))?s.splice(i--,1):(r=!1,n<t&&(t=n));if(r){e.splice(d--,1);var c=a();void 0!==c&&(o=c)}}return o}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,a,n]},l.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return l.d(o,{a:o}),o},l.d=(e,o)=>{for(var s in o)l.o(o,s)&&!l.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:o[s]})},l.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={920:0,456:0};l.O.j=o=>0===e[o];var o=(o,s)=>{var a,n,[t,r,i]=s,c=0;if(t.some((o=>0!==e[o]))){for(a in r)l.o(r,a)&&(l.m[a]=r[a]);if(i)var d=i(l)}for(o&&o(s);c<t.length;c++)n=t[c],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(d)},s=globalThis.webpackChunkpost_slider=globalThis.webpackChunkpost_slider||[];s.forEach(o.bind(null,0)),s.push=o.bind(null,s.push.bind(s))})();var a=l.O(void 0,[456],(()=>l(232)));a=l.O(a)})();