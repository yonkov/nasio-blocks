(()=>{"use strict";var e,o={272:(e,o,l)=>{const s=window.wp.blocks,a=window.wp.blockEditor,n=window.wp.components,t=window.wp.i18n,r=window.wp.element,i=window.wp.apiFetch;var c=l.n(i);const d=window.wp.serverSideRender;var u=l.n(d);const h=window.ReactJSXRuntime,p=JSON.parse('{"UU":"nasio-block/post-slider"}');(0,s.registerBlockType)(p.UU,{edit:function({attributes:e,setAttributes:o,className:l}){const{numberOfPosts:s,postCategory:i,showFeaturedImage:d,showFallbackImage:p,showExcerpt:b,showAuthor:w,showDate:g,slidesPerView:_,sliderHeight:k,spaceBetween:v,loop:m,displayMode:f,autoplay:C,autoplayDelay:x,showDots:y,showArrows:S,draggable:j,includeStickyPost:P,contentPosition:O}=e,[T,I]=(0,r.useState)([]),[D,E]=(0,r.useState)(!0),F=(0,r.useRef)(null),R=(0,r.useRef)(null);(0,r.useEffect)((()=>{c()({path:"/wp/v2/categories"}).then((e=>{const o=[{label:(0,t.__)("All Categories","nasio-blocks"),value:""},...e.map((e=>({label:e.name,value:e.id.toString()})))];I(o),E(!1)}))}),[]),(0,r.useEffect)((()=>{if(!D){R.current&&(R.current.destroy(),R.current=null);const e=setTimeout((()=>{(()=>{if(!F.current)return;if(void 0===window.Swiper)return void console.error("Swiper is not loaded in the editor");const e=F.current.querySelector(".nasio-post-slider");if(!e)return void console.error("Swiper element not found in the DOM");R.current&&(R.current.destroy(),R.current=null);const o={slidesPerView:"carousel"===f?parseInt(_):1,sliderHeight:"fullwidth"===f?parseInt(k):0,spaceBetween:"carousel"===f?parseInt(v):0,slidesPerGroup:"carousel"===f?parseInt(_):1,rewind:m,observer:!0,observeParents:!0,allowTouchMove:j,simulateTouch:j,keyboard:{enabled:!j,onlyInViewport:!0},mousewheel:!j};"fullwidth"===f&&(o.effect="fade",o.fadeEffect={crossFade:!0},o.loop=m,delete o.rewind),C&&(o.autoplay={delay:x,disableOnInteraction:!1,pauseOnMouseEnter:!0}),y&&(o.pagination={el:".swiper-pagination",clickable:!0}),S&&(o.navigation={nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}),"carousel"===f&&(o.slidesPerView=1,o.slidesPerGroup=1,o.breakpoints={480:{slidesPerView:Math.min(2,_),slidesPerGroup:Math.min(2,_)},768:{slidesPerView:parseInt(_),slidesPerGroup:parseInt(_)}});try{R.current=new window.Swiper(e,o),setTimeout((()=>{R.current&&R.current.update()}),100)}catch(e){console.error("Error initializing Swiper:",e)}})()}),1e3);return()=>{clearTimeout(e),R.current&&(R.current.destroy(),R.current=null)}}}),[D,...Object.values(e)]);const A=(0,a.useBlockProps)({className:`wp-block-nasio-block-post-slider is-display-mode-${f} is-editor-preview ${l||""}`});return(0,h.jsxs)("div",{...A,children:[(0,h.jsxs)(a.InspectorControls,{children:[(0,h.jsxs)(n.PanelBody,{title:"carousel"===f?(0,t.__)("Carousel Settings","nasio-blocks"):(0,t.__)("Slider Settings","nasio-blocks"),children:[(0,h.jsx)(n.SelectControl,{label:(0,t.__)("Display Mode","nasio-blocks"),value:f,help:(0,t.__)("Choose the post carousel if you want to display multiple columns. The fullwidth slider mode is perfect for fullwidth slides.","nasio-blocks"),options:[{label:(0,t.__)("Carousel","nasio-blocks"),value:"carousel"},{label:(0,t.__)("Fullwidth Slider","nasio-blocks"),value:"fullwidth"}],onChange:e=>o({displayMode:e})}),"carousel"===f&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(n.RangeControl,{label:(0,t.__)("Slides Per View","nasio-blocks"),value:_,onChange:e=>o({slidesPerView:e}),min:1,max:5}),(0,h.jsx)(n.RangeControl,{label:(0,t.__)("Space Between Slides (px)","nasio-blocks"),value:v,onChange:e=>o({spaceBetween:e}),min:0,max:50})]}),"fullwidth"===f&&(0,h.jsx)(n.RangeControl,{label:(0,t.__)("Slider Overlay","nasio-blocks"),value:e.imageOverlay||2,onChange:e=>o({imageOverlay:e}),min:0,max:10,help:(0,t.__)("Darkens the featured image. Default is 2. Higher values create a darker overlay.","nasio-blocks")}),"fullwidth"===f&&(0,h.jsx)(n.RangeControl,{label:(0,t.__)("Slider height (px)","nasio-blocks"),value:k,onChange:e=>o({sliderHeight:e}),min:250,max:1e3}),(0,h.jsx)(n.ToggleControl,{label:(0,t.__)("Show Dots (Pagination)","nasio-blocks"),checked:y,onChange:()=>o({showDots:!y})}),(0,h.jsx)(n.ToggleControl,{label:(0,t.__)("Show Arrows (Navigation)","nasio-blocks"),checked:S,onChange:()=>o({showArrows:!S})}),(0,h.jsx)(n.ToggleControl,{label:(0,t.__)("Drag Slides","nasio-blocks"),checked:j,onChange:()=>o({draggable:!j})}),(0,h.jsx)(n.ToggleControl,{label:"carousel"===f?(0,t.__)("Loop Carousel","nasio-blocks"):(0,t.__)("Loop Slider","nasio-blocks"),checked:m,onChange:()=>o({loop:!m})}),(0,h.jsx)(n.ToggleControl,{label:(0,t.__)("Autoplay","nasio-blocks"),checked:C,onChange:()=>o({autoplay:!C})}),C&&(0,h.jsx)(n.RangeControl,{label:(0,t.__)("Autoplay Delay (ms)","nasio-blocks"),value:x,onChange:e=>o({autoplayDelay:e}),min:1e3,max:1e4,step:500})]}),(0,h.jsxs)(n.PanelBody,{title:(0,t.__)("Post Settings","nasio-blocks"),children:[(0,h.jsx)(n.RangeControl,{label:(0,t.__)("Number of Posts","nasio-blocks"),value:s,onChange:e=>o({numberOfPosts:e}),min:1,max:20}),!D&&(0,h.jsx)(n.SelectControl,{label:(0,t.__)("Category","nasio-blocks"),value:i,options:T,onChange:e=>o({postCategory:e})}),"fullwidth"===f&&(0,h.jsx)(n.SelectControl,{label:(0,t.__)("Content Position","nasio-blocks"),value:O||"overlay-center",options:[{label:(0,t.__)("Text Overlay (Top)","nasio-blocks"),value:"overlay-top"},{label:(0,t.__)("Text Overlay (Center)","nasio-blocks"),value:"overlay-center"},{label:(0,t.__)("Text Overlay (Bottom)","nasio-blocks"),value:"overlay-bottom"}],onChange:e=>o({contentPosition:e}),help:(0,t.__)("Choose where to position the post content in the fullwidth slider. For this to work, you need to add featured images to the posts you want to display.","nasio-blocks")}),(0,h.jsx)(n.ToggleControl,{label:(0,t.__)("Show Featured Image","nasio-blocks"),checked:d,onChange:()=>o({showFeaturedImage:!d})}),d&&"carousel"===f&&(0,h.jsx)(n.ToggleControl,{label:(0,t.__)("Show Fallback Image","nasio-blocks"),checked:p,onChange:()=>o({showFallbackImage:!p}),help:(0,t.__)("Show image placeholder when there is no featured image.","nasio-blocks")}),(0,h.jsx)(n.ToggleControl,{label:(0,t.__)("Show Excerpt","nasio-blocks"),checked:b,onChange:()=>o({showExcerpt:!b})}),(0,h.jsx)(n.ToggleControl,{label:(0,t.__)("Show Author","nasio-blocks"),checked:w,onChange:()=>o({showAuthor:!w})}),(0,h.jsx)(n.ToggleControl,{label:(0,t.__)("Show Date","nasio-blocks"),checked:g,onChange:()=>o({showDate:!g})}),(0,h.jsx)(n.ToggleControl,{label:(0,t.__)("Include Sticky Post","nasio-blocks"),checked:P,onChange:()=>o({includeStickyPost:!P})})]})]}),(0,h.jsxs)("div",{className:"nasio-post-slider-preview",ref:F,children:[(0,h.jsx)("h3",{className:"nasio-slider-editor-title",children:"carousel"===f?(0,t.__)("Post Carousel Preview","nasio-blocks"):(0,t.__)("Fullwidth Slider Preview","nasio-blocks")}),D?(0,h.jsxs)("div",{className:"loading-spinner",children:[(0,h.jsx)(n.Spinner,{}),(0,h.jsx)("p",{children:(0,t.__)("Loading categories...","nasio-blocks")})]}):(0,h.jsx)(u(),{block:"nasio-block/post-slider",attributes:e})]})]})},save:function(){return(0,h.jsx)("p",{...a.useBlockProps.save(),children:"Post Slider â€“ hello from the saved content!"})}})}},l={};function s(e){var a=l[e];if(void 0!==a)return a.exports;var n=l[e]={exports:{}};return o[e](n,n.exports,s),n.exports}s.m=o,e=[],s.O=(o,l,a,n)=>{if(!l){var t=1/0;for(d=0;d<e.length;d++){for(var[l,a,n]=e[d],r=!0,i=0;i<l.length;i++)(!1&n||t>=n)&&Object.keys(s.O).every((e=>s.O[e](l[i])))?l.splice(i--,1):(r=!1,n<t&&(t=n));if(r){e.splice(d--,1);var c=a();void 0!==c&&(o=c)}}return o}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[l,a,n]},s.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return s.d(o,{a:o}),o},s.d=(e,o)=>{for(var l in o)s.o(o,l)&&!s.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:o[l]})},s.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={920:0,456:0};s.O.j=o=>0===e[o];var o=(o,l)=>{var a,n,[t,r,i]=l,c=0;if(t.some((o=>0!==e[o]))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(i)var d=i(s)}for(o&&o(l);c<t.length;c++)n=t[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(d)},l=globalThis.webpackChunkpost_slider=globalThis.webpackChunkpost_slider||[];l.forEach(o.bind(null,0)),l.push=o.bind(null,l.push.bind(l))})();var a=s.O(void 0,[456],(()=>s(272)));a=s.O(a)})();