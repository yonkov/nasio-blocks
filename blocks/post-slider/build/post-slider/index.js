(()=>{"use strict";var e,o={272:(e,o,l)=>{const s=window.wp.blocks,a=window.wp.blockEditor,n=window.wp.components,r=window.wp.i18n,t=window.wp.element,i=window.wp.apiFetch;var c=l.n(i);const d=window.wp.serverSideRender;var u=l.n(d);const h=window.ReactJSXRuntime,p=JSON.parse('{"UU":"nasio-block/post-slider"}');(0,s.registerBlockType)(p.UU,{edit:function({attributes:e,setAttributes:o,className:l}){const{numberOfPosts:s,postCategory:i,showFeaturedImage:d,showFallbackImage:p,showExcerpt:b,showAuthor:w,showDate:g,slidesPerView:_,sliderHeight:k,spaceBetween:v,loop:m,displayMode:C,autoplay:x,autoplayDelay:y,showDots:f,showArrows:S,draggable:j,includeStickyPost:P,contentPosition:O,imageOverlay:T}=e,[I,D]=(0,t.useState)([]),[E,F]=(0,t.useState)(!0),R=(0,t.useRef)(null),A=(0,t.useRef)(null);(0,t.useEffect)((()=>{c()({path:"/wp/v2/categories"}).then((e=>{const o=[{label:(0,r.__)("All Categories","nasio-blocks"),value:""},...e.map((e=>({label:e.name,value:e.id.toString()})))];D(o),F(!1)}))}),[]),(0,t.useEffect)((()=>{if(!E){A.current&&(A.current.destroy(),A.current=null);const e=setTimeout((()=>{(()=>{if(!R.current)return;if(void 0===window.Swiper)return void console.error("Swiper is not loaded in the editor");const e=R.current.querySelector(".nasio-post-slider");if(!e)return void console.error("Swiper element not found in the DOM");A.current&&(A.current.destroy(),A.current=null);const o={slidesPerView:"carousel"===C?parseInt(_):1,sliderHeight:"fullwidth"===C?parseInt(k):0,spaceBetween:"carousel"===C?parseInt(v):0,slidesPerGroup:"carousel"===C?parseInt(_):1,rewind:m,observer:!0,observeParents:!0,allowTouchMove:j,simulateTouch:j,keyboard:{enabled:!0,onlyInViewport:!0}};x&&(o.autoplay={delay:y,disableOnInteraction:!1,pauseOnMouseEnter:!0}),f&&(o.pagination={el:".swiper-pagination",clickable:!0}),S&&(o.navigation={nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}),"carousel"===C&&(o.slidesPerView=1,o.slidesPerGroup=1,o.breakpoints={480:{slidesPerView:Math.min(2,_),slidesPerGroup:Math.min(2,_)},768:{slidesPerView:parseInt(_),slidesPerGroup:parseInt(_)}});try{A.current=new window.Swiper(e,o),setTimeout((()=>{A.current&&A.current.update()}),100)}catch(e){console.error("Error initializing Swiper:",e)}})()}),1e3);return()=>{clearTimeout(e),A.current&&(A.current.destroy(),A.current=null)}}}),[E,...Object.values(e)]);const B=(0,a.useBlockProps)({className:`wp-block-nasio-block-post-slider is-display-mode-${C} is-editor-preview ${l||""}`});return(0,h.jsxs)("div",{...B,children:[(0,h.jsxs)(a.InspectorControls,{children:[(0,h.jsxs)(n.PanelBody,{title:"carousel"===C?(0,r.__)("Carousel Settings","nasio-blocks"):(0,r.__)("Slider Settings","nasio-blocks"),children:[(0,h.jsx)(n.SelectControl,{label:(0,r.__)("Display Mode","nasio-blocks"),value:C,help:(0,r.__)("Choose the post carousel if you want to display multiple columns. The fullwidth slider mode is perfect for fullwidth slides.","nasio-blocks"),options:[{label:(0,r.__)("Carousel","nasio-blocks"),value:"carousel"},{label:(0,r.__)("Fullwidth Slider","nasio-blocks"),value:"fullwidth"}],onChange:e=>o({displayMode:e})}),"carousel"===C&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(n.RangeControl,{label:(0,r.__)("Slides Per View","nasio-blocks"),value:_,onChange:e=>o({slidesPerView:e}),min:1,max:5}),(0,h.jsx)(n.RangeControl,{label:(0,r.__)("Space Between Slides (px)","nasio-blocks"),value:v,onChange:e=>o({spaceBetween:e}),min:0,max:50})]}),"fullwidth"===C&&(0,h.jsx)(n.RangeControl,{label:(0,r.__)("Slider Overlay","nasio-blocks"),value:T||2,onChange:e=>o({imageOverlay:e}),min:1,max:10,help:(0,r.__)("Darkens the featured image. Default is 2. Higher values create a darker overlay.","nasio-blocks")}),"fullwidth"===C&&(0,h.jsx)(n.RangeControl,{label:(0,r.__)("Slider height (px)","nasio-blocks"),value:k,onChange:e=>o({sliderHeight:e}),min:250,max:1e3}),(0,h.jsx)(n.ToggleControl,{label:(0,r.__)("Show Dots (Pagination)","nasio-blocks"),checked:f,onChange:()=>o({showDots:!f})}),(0,h.jsx)(n.ToggleControl,{label:(0,r.__)("Show Arrows (Navigation)","nasio-blocks"),checked:S,onChange:()=>o({showArrows:!S})}),(0,h.jsx)(n.ToggleControl,{label:(0,r.__)("Drag Slides","nasio-blocks"),checked:j,onChange:()=>o({draggable:!j})}),(0,h.jsx)(n.ToggleControl,{label:"carousel"===C?(0,r.__)("Loop Carousel","nasio-blocks"):(0,r.__)("Loop Slider","nasio-blocks"),checked:m,onChange:()=>o({loop:!m})}),(0,h.jsx)(n.ToggleControl,{label:(0,r.__)("Autoplay","nasio-blocks"),checked:x,onChange:()=>o({autoplay:!x})}),x&&(0,h.jsx)(n.RangeControl,{label:(0,r.__)("Autoplay Delay (ms)","nasio-blocks"),value:y,onChange:e=>o({autoplayDelay:e}),min:1e3,max:1e4,step:500})]}),(0,h.jsxs)(n.PanelBody,{title:(0,r.__)("Post Settings","nasio-blocks"),children:[(0,h.jsx)(n.RangeControl,{label:(0,r.__)("Number of Posts","nasio-blocks"),value:s,onChange:e=>o({numberOfPosts:e}),min:1,max:20}),!E&&(0,h.jsx)(n.SelectControl,{label:(0,r.__)("Category","nasio-blocks"),value:i,options:I,onChange:e=>o({postCategory:e})}),"fullwidth"===C&&(0,h.jsx)(n.SelectControl,{label:(0,r.__)("Content Position","nasio-blocks"),value:O||"overlay-center",options:[{label:(0,r.__)("Text Overlay (Top)","nasio-blocks"),value:"overlay-top"},{label:(0,r.__)("Text Overlay (Center)","nasio-blocks"),value:"overlay-center"},{label:(0,r.__)("Text Overlay (Bottom)","nasio-blocks"),value:"overlay-bottom"}],onChange:e=>o({contentPosition:e}),help:(0,r.__)("Choose where to position the post content in the fullwidth slider. For this to work, you need to add featured images to the posts you want to display.","nasio-blocks")}),(0,h.jsx)(n.ToggleControl,{label:(0,r.__)("Show Featured Image","nasio-blocks"),checked:d,onChange:()=>o({showFeaturedImage:!d})}),d&&"carousel"===C&&(0,h.jsx)(n.ToggleControl,{label:(0,r.__)("Show Fallback Image","nasio-blocks"),checked:p,onChange:()=>o({showFallbackImage:!p}),help:(0,r.__)("Show image placeholder when there is no featured image.","nasio-blocks")}),(0,h.jsx)(n.ToggleControl,{label:(0,r.__)("Show Excerpt","nasio-blocks"),checked:b,onChange:()=>o({showExcerpt:!b})}),(0,h.jsx)(n.ToggleControl,{label:(0,r.__)("Show Author","nasio-blocks"),checked:w,onChange:()=>o({showAuthor:!w})}),(0,h.jsx)(n.ToggleControl,{label:(0,r.__)("Show Date","nasio-blocks"),checked:g,onChange:()=>o({showDate:!g})}),(0,h.jsx)(n.ToggleControl,{label:(0,r.__)("Include Sticky Post","nasio-blocks"),checked:P,onChange:()=>o({includeStickyPost:!P})})]})]}),(0,h.jsxs)("div",{className:"nasio-post-slider-preview",ref:R,children:[(0,h.jsx)("h3",{className:"nasio-slider-editor-title",children:"carousel"===C?(0,r.__)("Post Carousel Preview","nasio-blocks"):(0,r.__)("Fullwidth Slider Preview","nasio-blocks")}),E?(0,h.jsxs)("div",{className:"loading-spinner",children:[(0,h.jsx)(n.Spinner,{}),(0,h.jsx)("p",{children:(0,r.__)("Loading categories...","nasio-blocks")})]}):(0,h.jsx)(u(),{block:"nasio-block/post-slider",attributes:e})]})]})},save:function(){return(0,h.jsx)("p",{...a.useBlockProps.save(),children:"Post Slider â€“ hello from the saved content!"})}})}},l={};function s(e){var a=l[e];if(void 0!==a)return a.exports;var n=l[e]={exports:{}};return o[e](n,n.exports,s),n.exports}s.m=o,e=[],s.O=(o,l,a,n)=>{if(!l){var r=1/0;for(d=0;d<e.length;d++){for(var[l,a,n]=e[d],t=!0,i=0;i<l.length;i++)(!1&n||r>=n)&&Object.keys(s.O).every((e=>s.O[e](l[i])))?l.splice(i--,1):(t=!1,n<r&&(r=n));if(t){e.splice(d--,1);var c=a();void 0!==c&&(o=c)}}return o}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[l,a,n]},s.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return s.d(o,{a:o}),o},s.d=(e,o)=>{for(var l in o)s.o(o,l)&&!s.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:o[l]})},s.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={920:0,456:0};s.O.j=o=>0===e[o];var o=(o,l)=>{var a,n,[r,t,i]=l,c=0;if(r.some((o=>0!==e[o]))){for(a in t)s.o(t,a)&&(s.m[a]=t[a]);if(i)var d=i(s)}for(o&&o(l);c<r.length;c++)n=r[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(d)},l=globalThis.webpackChunkpost_slider=globalThis.webpackChunkpost_slider||[];l.forEach(o.bind(null,0)),l.push=o.bind(null,l.push.bind(l))})();var a=s.O(void 0,[456],(()=>s(272)));a=s.O(a)})();