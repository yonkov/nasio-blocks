{"version":3,"file":"post-slider/view.js","mappings":"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","sources":["webpack://post-slider/external window [\"wp\",\"hooks\"]","webpack://post-slider/webpack/bootstrap","webpack://post-slider/webpack/runtime/compat get default export","webpack://post-slider/webpack/runtime/define property getters","webpack://post-slider/webpack/runtime/hasOwnProperty shorthand","webpack://post-slider/webpack/runtime/make namespace object","webpack://post-slider/./src/post-slider/view.js"],"sourcesContent":["module.exports = window[\"wp\"][\"hooks\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { addFilter } from \"@wordpress/hooks\";\n\n/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is imported by index.js, it runs in the context of the editor.\n * When this file is compiled as part of the build process and loaded in the front end,\n * it runs in the context of the front end.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\n/**\n * Post Slider View script\n * \n * This script initializes the Swiper on the frontend.\n */\n\n// Wait for the DOM to be fully loaded\ndocument.addEventListener('DOMContentLoaded', function() {\n\tinitializePostSlider();\n});\n\n// Function to initialize all sliders\nfunction initializePostSlider() {\n\t// Get all post sliders on the page\n\tconst sliders = document.querySelectorAll('.wp-block-nasio-block-post-slider');\n\t\n\tif (!sliders.length) return;\n\t\n\t// Check if Swiper is loaded\n\tif (typeof Swiper === 'undefined') {\n\t\tconsole.error('Swiper library not loaded');\n\t\treturn;\n\t}\n\n\t// Initialize each slider\n\tsliders.forEach(function(slider) {\n\t\tconst swiperElement = slider.querySelector('.nasio-post-slider');\n\t\tif (!swiperElement) return;\n\t\t\n\t\t// Get settings from data attributes\n\t\tconst displayMode = swiperElement.dataset.displayMode || 'carousel';\n\t\tconst slidesPerView = parseInt(swiperElement.dataset.slidesPerView || 3);\n\t\tconst spaceBetween = parseInt(swiperElement.dataset.spaceBetween || 20);\n\t\tconst loop = swiperElement.dataset.loop === 'true';\n\t\tconst autoplay = swiperElement.dataset.autoplay === 'true';\n\t\tconst autoplayDelay = parseInt(swiperElement.dataset.autoplayDelay || 3000);\n\t\tconst showDots = swiperElement.dataset.showDots === 'true';\n\t\tconst showArrows = swiperElement.dataset.showArrows === 'true';\n\t\tconst slidesPerGroup = parseInt(swiperElement.dataset.slidesPerGroup || slidesPerView);\n\t\tconst draggable = swiperElement.dataset.draggable === 'true';\n\t\t\n\t\t// Base settings for both displayModes\n\t\tconst settings = {\n\t\t\tobserver: true,\n\t\t\tobserveParents: true,\n\t\t\tobserveSlideChildren: true,\n\t\t\tallowTouchMove: draggable,\n\t\t\tsimulateTouch: draggable,\n\t\t\tkeyboard: {\n\t\t\t\tenabled: true,\n\t\t\t\tonlyInViewport: true,\n\t\t\t},\n\t\t\tresizeObserver: true\n\t\t};\n\t\t\n\t\t// Different settings based on displayMode\n\t\tif (displayMode === 'carousel') {\n\t\t\t// Carousel displayMode\n\t\t\tsettings.slidesPerView = 1; // Start with 1 for mobile\n\t\t\tsettings.slidesPerGroup = 1; // Start with 1 for mobile\n\t\t\tsettings.spaceBetween = spaceBetween;\n\t\t\tsettings.rewind = loop; // Use rewind instead of loop for better performance\n\t\t\t\n\t\t\t// Responsive breakpoints\n\t\t\tsettings.breakpoints = {\n\t\t\t\t// When window width is >= 480px\n\t\t\t\t480: {\n\t\t\t\t\tslidesPerView: Math.min(2, slidesPerView),\n\t\t\t\t\tslidesPerGroup: Math.min(2, slidesPerGroup),\n\t\t\t\t\tspaceBetween: spaceBetween\n\t\t\t\t},\n\t\t\t\t// When window width is >= 768px\n\t\t\t\t768: {\n\t\t\t\t\tslidesPerView: slidesPerView,\n\t\t\t\t\tslidesPerGroup: slidesPerGroup\n\t\t\t\t}\n\t\t\t};\n\t\t} else {\n\t\t\t// Fullwidth displayMode\n\t\t\tsettings.slidesPerView = 1;\n\t\t\tsettings.spaceBetween = 0;\n\t\t\tsettings.effect = 'fade';\n\t\t\tsettings.fadeEffect = {\n\t\t\t\tcrossFade: true\n\t\t\t};\n\t\t\tsettings.loop = loop; // Use regular loop for fade effect\n\t\t}\n\t\t\n\t\t// Add autoplay if enabled\n\t\tif (autoplay) {\n\t\t\tsettings.autoplay = {\n\t\t\t\tdelay: autoplayDelay,\n\t\t\t\tdisableOnInteraction: false,\n\t\t\t\tpauseOnMouseEnter: true\n\t\t\t};\n\t\t}\n\t\t\n\t\t// Add pagination if enabled\n\t\tif (showDots) {\n\t\t\tsettings.pagination = {\n\t\t\t\tel: slider.querySelector('.swiper-pagination'),\n\t\t\t\tclickable: true\n\t\t\t};\n\t\t}\n\t\t\n\t\t// Add navigation if enabled\n\t\tif (showArrows) {\n\t\t\tsettings.navigation = {\n\t\t\t\tnextEl: slider.querySelector('.swiper-button-next'),\n\t\t\t\tprevEl: slider.querySelector('.swiper-button-prev')\n\t\t\t};\n\t\t}\n\t\t\n\t\ttry {\n\t\t\t// Check if the slider already has a Swiper instance\n\t\t\tif (swiperElement.swiper) {\n\t\t\t\t// Destroy existing instance before creating a new one\n\t\t\t\tswiperElement.swiper.destroy(true, true);\n\t\t\t}\n\t\t\t\n\t\t\t// Initialize Swiper\n\t\t\tnew Swiper(swiperElement, settings);\n\t\t} catch (error) {\n\t\t\tconsole.error('Error initializing Swiper:', error);\n\t\t}\n\t});\n}\n\n// Add event listener for block editor changes if we're in the editor\nif (typeof wp !== 'undefined' && wp.data && wp.data.subscribe) {\n\t// This will help reinitialize when editor changes happen\n\tlet lastChangeTime = 0;\n\twp.data.subscribe(() => {\n\t\tconst now = Date.now();\n\t\t// Only reinitialize after a delay and not too frequently\n\t\tif (now - lastChangeTime > 1000) {\n\t\t\tlastChangeTime = now;\n\t\t\tsetTimeout(() => {\n\t\t\t\tinitializePostSlider();\n\t\t\t}, 50);\n\t\t}\n\t});\n}\n\n/**\n * View for the post slider block.\n */\nexport function View() {\n\treturn null;\n}\n"],"names":["addFilter","document","addEventListener","initializePostSlider","sliders","querySelectorAll","length","Swiper","console","error","forEach","slider","swiperElement","querySelector","displayMode","dataset","slidesPerView","parseInt","spaceBetween","loop","autoplay","autoplayDelay","showDots","showArrows","slidesPerGroup","draggable","settings","observer","observeParents","observeSlideChildren","allowTouchMove","simulateTouch","keyboard","enabled","onlyInViewport","resizeObserver","rewind","breakpoints","Math","min","effect","fadeEffect","crossFade","delay","disableOnInteraction","pauseOnMouseEnter","pagination","el","clickable","navigation","nextEl","prevEl","swiper","destroy","wp","data","subscribe","lastChangeTime","now","Date","setTimeout","View"],"sourceRoot":""}