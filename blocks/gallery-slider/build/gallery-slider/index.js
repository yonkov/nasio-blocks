(()=>{"use strict";var e,l={325:()=>{const e=window.wp.blocks,l=window.wp.i18n,a=window.wp.blockEditor,s=window.wp.components,o=window.wp.element,i=window.wp.data,r=window.wp.blob,t=window.React,n=window.wp.primitives,c=(0,t.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(n.Path,{d:"m11.3 17.2-5-5c-.1-.1-.1-.3 0-.4l2.3-2.3-1.1-1-2.3 2.3c-.7.7-.7 1.8 0 2.5l5 5H7.5v1.5h5.3v-5.2h-1.5v2.6zm7.5-6.4-5-5h2.7V4.2h-5.2v5.2h1.5V6.8l5 5c.1.1.1.3 0 .4l-2.3 2.3 1.1 1.1 2.3-2.3c.6-.7.6-1.9-.1-2.5z"})),d=(0,t.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(n.Path,{d:"M16 10h4c.6 0 1-.4 1-1V5c0-.6-.4-1-1-1h-4c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1zm-8 4H4c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1h4c.6 0 1-.4 1-1v-4c0-.6-.4-1-1-1zm10-2.6L14.5 15l1.1 1.1 1.7-1.7c-.1 1.1-.3 2.3-.9 2.9-.3.3-.7.5-1.3.5h-4.5v1.5H15c.9 0 1.7-.3 2.3-.9 1-1 1.3-2.7 1.4-4l1.8 1.8 1.1-1.1-3.6-3.7zM6.8 9.7c.1-1.1.3-2.3.9-2.9.4-.4.8-.6 1.3-.6h4.5V4.8H9c-.9 0-1.7.3-2.3.9-1 1-1.3 2.7-1.4 4L3.5 8l-1 1L6 12.6 9.5 9l-1-1-1.7 1.7z"})),u=(0,t.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(n.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})),p=(0,t.createElement)(n.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)(n.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5ZM4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm4 10h2v-1.5H8V16Zm5 0h-2v-1.5h2V16Zm1 0h2v-1.5h-2V16Z"})),g=window.ReactJSXRuntime;(0,e.registerBlockType)("nasio-block/gallery-slider",{edit:function({attributes:e,setAttributes:t,clientId:n,className:h}){const{images:m,ids:w,slidesPerView:b,spaceBetween:v,loop:x,autoplay:k,autoplayDelay:f,showDots:_,showArrows:C,draggable:y,showCaptions:j,linkTo:S,imageSizeSlug:z,slidesPerGroup:I,customImageWidth:P,customImageHeight:B,arrowOffset:N,arrowColor:T,arrowBackgroundColor:V,paginationActiveColor:A,paginationInactiveColor:E}=e,[R,D]=(0,o.useState)(null),[H,M]=(0,o.useState)(null),O=(0,o.useRef)(null),$=(0,o.useRef)(null),G=(0,o.useRef)(0),L=[["core/paragraph",{placeholder:(0,l.__)("Add a title or description for the gallery...","nasio-blocks")}]],{imageSizes:W}=(0,i.useSelect)((e=>{const{getSettings:l}=e("core/block-editor");return{imageSizes:l().imageSizes}}),[]),F=[...W.map((({name:e,slug:l})=>({value:l,label:e}))),{value:"custom",label:(0,l.__)("Custom","nasio-blocks")}],U=(0,a.useBlockProps)({className:`wp-block-nasio-block-gallery-slider ${h||""}`,style:{"--space-between":`${v}px`,"--swiper-navigation-sides-dynamic-offset":`${N}px`,"--arrow-color":T,...V&&{"--arrow-bg-color":((e,l=.75)=>{if(!e)return e;if(e.includes("rgba"))return e;if(e.includes("rgb"))return e.replace("rgb(","rgba(").replace(")",`, ${l})`);if(e.startsWith("#")){const a=e.replace("#","");return`rgba(${parseInt(a.substr(0,2),16)}, ${parseInt(a.substr(2,2),16)}, ${parseInt(a.substr(4,2),16)}, ${l})`}return e})(V,.75)},"--pagination-active-color":A,"--pagination-inactive-color":E}}),Z=e=>{const l=e.map((e=>{let l;l="custom"===z?e.sizes?.full?.url||e.url:e.sizes?.[z]?.url||e.sizes?.full?.url||e.url;const a=e.sizes?.full?{width:e.sizes.full.width,height:e.sizes.full.height}:{width:e.width,height:e.height};return{id:e.id.toString(),alt:e.alt||"",caption:e.caption||"",link:e.link||"",url:l,media_sizes:e.sizes,originalWidth:a.width,originalHeight:a.height}}));t({images:l,ids:e.map((e=>e.id))})};(0,o.useEffect)((()=>{const e=setTimeout((()=>{q()}),500),l=wp.data.subscribe((()=>{const e=wp.data.select("core/block-editor").getSelectedBlock();if(e&&e.clientId===n){const e=Date.now();e-G.current>1e3&&(G.current=e,setTimeout((()=>{$.current&&$.current.update()}),50))}}));return()=>{l(),clearTimeout(e),$.current&&$.current.update()}}),[b,v,x,k,f,_,C,N,y,m?.length,I]),(0,o.useEffect)((()=>{if(!m||0===m.length||!z)return;let e=!1;const l=m.map((l=>{if(!l.media_sizes)return l;let a=null;return a="custom"===z?l.media_sizes?.full?.url||l.url:l.media_sizes[z]?.url||l.media_sizes.full?.url||l.url,l.url!==a?(e=!0,{...l,url:a}):l}));e&&t({images:l}),"custom"===z&&w.length}),[z,P,B,m,w,t]);const q=()=>{if($.current&&($.current.destroy(!0,!0),$.current=null),O.current&&void 0!==window.Swiper&&m.length>0){const e=O.current.querySelector(".nasio-gallery-slider");if(!e)return;const l={slidesPerView:parseInt(b),spaceBetween:parseInt(v),slidesPerGroup:parseInt(I),rewind:x,observer:!0,observeParents:!0,resizeObserver:!0,allowTouchMove:y,simulateTouch:y,keyboard:{enabled:!0,onlyInViewport:!0},preventClicks:!1,preventClicksPropagation:!1,touchStartPreventDefault:!1,touchMoveStopPropagation:!1,speed:400};parseInt(b)>1&&(l.breakpoints={480:{slidesPerView:Math.min(2,parseInt(b))},768:{slidesPerView:parseInt(b)}}),k&&(l.autoplay={delay:f,disableOnInteraction:!1,pauseOnMouseEnter:!0}),C&&(l.navigation={nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")}),_&&(l.pagination={el:e.querySelector(".swiper-pagination"),clickable:!0});try{$.current=new window.Swiper(e,l),setTimeout((()=>{$.current&&$.current.update()}),100)}catch(e){console.error("Error initializing Swiper:",e)}}};if((0,o.useEffect)((()=>()=>{m&&m.length&&m.forEach((e=>{(0,r.isBlobURL)(e.url)&&(0,r.revokeBlobURL)(e.url)}))}),[]),0===m.length)return(0,g.jsx)("div",{...U,children:(0,g.jsx)(a.MediaPlaceholder,{icon:"format-gallery",labels:{title:(0,l.__)("Gallery Slider","nasio-blocks"),instructions:(0,l.__)("Drag images, upload new ones or select files from your library.","nasio-blocks")},onSelect:Z,accept:"image/*",allowedTypes:["image"],multiple:!0,value:m})});const J=(0,g.jsx)(a.BlockControls,{children:(0,g.jsxs)(s.Toolbar,{children:[(0,g.jsx)(a.MediaUploadCheck,{children:(0,g.jsx)(a.MediaUpload,{onSelect:Z,allowedTypes:["image"],multiple:!0,gallery:!0,value:w,render:({open:e})=>(0,g.jsx)(s.Button,{onClick:e,icon:c,label:(0,l.__)("Edit gallery","nasio-blocks")})})}),R&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(a.MediaUploadCheck,{children:(0,g.jsx)(a.MediaUpload,{onSelect:e=>{if(!R||!e)return;const l=m.map((l=>{if(l.id===R){let a;a="custom"===z?e.sizes?.full?.url||e.url:e.sizes?.[z]?.url||e.sizes?.full?.url||e.url;const s=e.sizes?.full?{width:e.sizes.full.width,height:e.sizes.full.height}:{width:e.width,height:e.height};return{id:e.id.toString(),alt:e.alt||"",caption:e.caption||l.caption||"",link:e.link||l.link||"",url:a,media_sizes:e.sizes,originalWidth:s.width,originalHeight:s.height}}return l})),a=l.map((e=>parseInt(e.id)));t({images:l,ids:a}),D(null),$.current&&setTimeout((()=>{$.current&&$.current.update()}),50)},allowedTypes:["image"],multiple:!1,value:R?[parseInt(R)]:[],render:({open:e})=>(0,g.jsx)(s.Button,{onClick:e,icon:d,label:(0,l.__)("Replace image","nasio-blocks")})})}),(0,g.jsx)(s.Button,{onClick:()=>(e=>{const l=m.filter((l=>l.id!==e)),a=l.map((e=>parseInt(e.id)));t({images:l,ids:a}),R===e&&D(null)})(R),icon:u,label:(0,l.__)("Remove image","nasio-blocks")}),j&&(0,g.jsx)(s.Button,{icon:p,label:H===R?(0,l.__)("Stop editing caption","nasio-blocks"):(0,l.__)("Edit caption","nasio-blocks"),onClick:()=>{M(H===R?null:R)},isPressed:H===R})]})]})});return(0,g.jsxs)(g.Fragment,{children:[J,(0,g.jsx)(a.InspectorControls,{children:(0,g.jsxs)(s.PanelBody,{title:(0,l.__)("Gallery Slider Settings","nasio-blocks"),children:[(0,g.jsx)(s.RangeControl,{label:(0,l.__)("Slides Per View","nasio-blocks"),value:b,help:(0,l.__)("The number of slides visible on the screen."),onChange:e=>t({slidesPerView:e}),min:1,max:6}),(0,g.jsx)(s.RangeControl,{label:(0,l.__)("Slides Per Group","nasio-blocks"),value:I,help:(0,l.__)("The number of slides to advance."),onChange:e=>t({slidesPerGroup:e}),min:1,max:5}),(0,g.jsx)(s.RangeControl,{label:(0,l.__)("Space Between Slides (px)","nasio-blocks"),value:v,onChange:e=>t({spaceBetween:e}),min:0,max:50}),(0,g.jsx)(s.ToggleControl,{label:(0,l.__)("Show Dots (Pagination)","nasio-blocks"),checked:_,onChange:()=>t({showDots:!_})}),(0,g.jsx)(s.ToggleControl,{label:(0,l.__)("Show Arrows (Navigation)","nasio-blocks"),checked:C,onChange:()=>t({showArrows:!C})}),C&&(0,g.jsx)(s.RangeControl,{label:(0,l.__)("Arrow Offset (px)","nasio-blocks"),value:N,onChange:e=>t({arrowOffset:e}),min:-80,max:20,help:(0,l.__)("Choose how to position the arrows relative to the slider. Negative values move the arrows outside the slider.","nasio-blocks")}),(0,g.jsx)(s.ToggleControl,{label:(0,l.__)("Drag Slides","nasio-blocks"),checked:y,onChange:()=>t({draggable:!y})}),(0,g.jsx)(s.ToggleControl,{label:(0,l.__)("Loop Slider","nasio-blocks"),checked:x,onChange:()=>t({loop:!x})}),(0,g.jsx)(s.ToggleControl,{label:(0,l.__)("Autoplay","nasio-blocks"),checked:k,onChange:()=>t({autoplay:!k})}),k&&(0,g.jsx)(s.RangeControl,{label:(0,l.__)("Autoplay Delay (ms)","nasio-blocks"),value:f,onChange:e=>t({autoplayDelay:e}),min:1e3,max:1e4,step:500}),(0,g.jsx)(s.ToggleControl,{label:(0,l.__)("Show Captions","nasio-blocks"),checked:j,onChange:()=>t({showCaptions:!j})}),(0,g.jsx)(s.SelectControl,{label:(0,l.__)("Link To","nasio-blocks"),value:S,options:[{value:"none",label:(0,l.__)("None","nasio-blocks")},{value:"media",label:(0,l.__)("Media File","nasio-blocks")},{value:"attachment",label:(0,l.__)("Attachment Page","nasio-blocks")}],onChange:e=>t({linkTo:e})}),(0,g.jsx)(s.SelectControl,{label:(0,l.__)("Image Size","nasio-blocks"),value:z,options:F,onChange:e=>t({imageSizeSlug:e}),help:(0,l.__)("Select an image size or choose Custom Dimensions for specific width/height","nasio-blocks")}),"custom"===z&&(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:"custom-image-dimensions",children:(0,g.jsxs)("div",{style:{display:"flex",gap:"16px",marginBottom:"8px"},children:[(0,g.jsx)("div",{style:{flex:1},children:(0,g.jsx)(s.__experimentalUnitControl,{label:(0,l.__)("Width","nasio-blocks"),value:P||"",onChange:e=>{t(""===e?{customImageWidth:""}:{customImageWidth:e})},units:[{value:"px",label:"px",default:0},{value:"rem",label:"rem",default:0}]})}),(0,g.jsx)("div",{style:{flex:1},children:(0,g.jsx)(s.__experimentalUnitControl,{label:(0,l.__)("Height","nasio-blocks"),value:B||"",onChange:e=>{t(""===e?{customImageHeight:""}:{customImageHeight:e})},units:[{value:"px",label:"px",default:0},{value:"rem",label:"rem",default:0}]})})]})})})]})}),(0,g.jsxs)(a.InspectorControls,{group:"styles",children:[C&&(0,g.jsx)(a.PanelColorSettings,{title:(0,l.__)("Arrows Colors","nasio-blocks"),colorSettings:[{value:T,onChange:e=>t({arrowColor:e||"#333"}),label:(0,l.__)("Arrows Color","nasio-blocks"),disableCustomColors:!1,clearable:!1},{value:V,onChange:e=>t({arrowBackgroundColor:e}),label:(0,l.__)("Arrows Background Color","nasio-blocks"),disableCustomColors:!1,clearable:!0}]}),_&&(0,g.jsx)(a.PanelColorSettings,{title:(0,l.__)("Dots Colors","nasio-blocks"),colorSettings:[{value:E,onChange:e=>t({paginationInactiveColor:e||"#ccc"}),label:(0,l.__)("Dots Color","nasio-blocks"),disableCustomColors:!1,clearable:!1},{value:A,onChange:e=>t({paginationActiveColor:e||"#333"}),label:(0,l.__)("Active Dot Color","nasio-blocks"),disableCustomColors:!1,clearable:!1}]})]}),(0,g.jsx)("div",{...U,children:0===m.length?(0,g.jsx)(a.MediaPlaceholder,{icon:"format-gallery",labels:{title:(0,l.__)("Gallery Slider","nasio-blocks"),instructions:(0,l.__)("Drag images, upload new ones or select files from your library.","nasio-blocks")},onSelect:Z,accept:"image/*",allowedTypes:["image"],multiple:!0,value:m}):(0,g.jsxs)("div",{className:"gallery-slider-wrapper",ref:O,children:[(0,g.jsx)("h3",{className:"nasio-slider-editor-title",children:(0,l.__)("Gallery Slider Preview","nasio-blocks")}),(0,g.jsx)(a.InnerBlocks,{allowedBlocks:["core/paragraph","core/heading"],template:L,templateLock:!1}),(0,g.jsxs)("div",{className:"nasio-gallery-slider swiper",children:[(0,g.jsx)("div",{className:"swiper-wrapper",children:m.map((e=>{const l=R===e.id,a=H===e.id;return(0,g.jsx)("div",{className:"swiper-slide gallery-slider-item "+(l?"is-selected":""),onClick:()=>D(e.id),children:(0,g.jsxs)("figure",{className:"gallery-slider-figure",children:[(0,g.jsx)("img",{src:e.url,alt:e.alt,"data-id":e.id,"data-link":e.link,className:"gallery-slider-image",style:"custom"===z&&(P||B)?{width:P||void 0,height:B||void 0,objectFit:P&&B?"cover":void 0}:void 0}),j&&(e.caption||a)&&(0,g.jsx)("figcaption",{className:"gallery-slider-caption",children:a?(0,g.jsx)("textarea",{value:e.caption,onChange:l=>((e,l)=>{const a=m.map((a=>a.id===l?{...a,caption:e}:a));t({images:a})})(l.target.value,e.id),autoFocus:!0,onClick:e=>e.stopPropagation()}):e.caption})]})},e.id)}))}),_&&(0,g.jsx)("div",{className:"swiper-pagination"}),C&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"swiper-button-prev"}),(0,g.jsx)("div",{className:"swiper-button-next"})]})]})]})})]})},save:function({attributes:e}){const{images:l,slidesPerView:s,spaceBetween:o,loop:i,autoplay:r,autoplayDelay:t,showDots:n,showArrows:c,arrowOffset:d,draggable:u,showCaptions:p,linkTo:h,slidesPerGroup:m,imageSizeSlug:w,customImageWidth:b,customImageHeight:v,arrowColor:x="#333",arrowBackgroundColor:k,paginationActiveColor:f="#333",paginationInactiveColor:_="#ccc"}=e;if(!l.length)return null;const C=a.useBlockProps.save({className:"wp-block-nasio-block-gallery-slider",style:{"--space-between":`${o}px`,"--swiper-navigation-sides-dynamic-offset":`${d}px`,"--arrow-color":x,...k&&{"--arrow-bg-color":((e,l=.75)=>{if(!e)return e;if(e.includes("rgba"))return e;if(e.includes("rgb"))return e.replace("rgb(","rgba(").replace(")",`, ${l})`);if(e.startsWith("#")){const a=e.replace("#","");return`rgba(${parseInt(a.substr(0,2),16)}, ${parseInt(a.substr(2,2),16)}, ${parseInt(a.substr(4,2),16)}, ${l})`}return e})(k,.75)},"--pagination-active-color":f,"--pagination-inactive-color":_},"data-slides-per-view":s,"data-space-between":o,"data-loop":i,"data-autoplay":r,"data-autoplay-delay":t,"data-show-dots":n,"data-show-arrows":c,"data-draggable":u,"data-show-captions":p,"data-link-to":h,"data-slides-per-group":m,"data-image-size":w,"data-custom-width":b,"data-custom-height":v});return(0,g.jsxs)("div",{...C,children:[(0,g.jsx)(a.InnerBlocks.Content,{}),(0,g.jsxs)("div",{className:"nasio-gallery-slider swiper",children:[(0,g.jsx)("div",{className:"swiper-wrapper",children:l.map((e=>{let l=(0,g.jsx)("img",{src:e.url,alt:e.alt,"data-id":e.id,"data-link":e.link,className:"gallery-slider-image"});if("none"!==h){const a="media"===h?e.url:e.link;l=(0,g.jsx)("a",{href:a,rel:"noreferrer noopener",children:l})}return(0,g.jsx)("div",{className:"swiper-slide gallery-slider-item",children:(0,g.jsxs)("figure",{className:"gallery-slider-figure",children:[l,p&&e.caption&&(0,g.jsx)("figcaption",{className:"gallery-slider-caption",children:e.caption})]})},e.id)}))}),n&&(0,g.jsx)("div",{className:"swiper-pagination"}),c&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"swiper-button-prev"}),(0,g.jsx)("div",{className:"swiper-button-next"})]})]})]})}})}},a={};function s(e){var o=a[e];if(void 0!==o)return o.exports;var i=a[e]={exports:{}};return l[e](i,i.exports,s),i.exports}s.m=l,e=[],s.O=(l,a,o,i)=>{if(!a){var r=1/0;for(d=0;d<e.length;d++){for(var[a,o,i]=e[d],t=!0,n=0;n<a.length;n++)(!1&i||r>=i)&&Object.keys(s.O).every((e=>s.O[e](a[n])))?a.splice(n--,1):(t=!1,i<r&&(r=i));if(t){e.splice(d--,1);var c=o();void 0!==c&&(l=c)}}return l}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[a,o,i]},s.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={606:0,962:0};s.O.j=l=>0===e[l];var l=(l,a)=>{var o,i,[r,t,n]=a,c=0;if(r.some((l=>0!==e[l]))){for(o in t)s.o(t,o)&&(s.m[o]=t[o]);if(n)var d=n(s)}for(l&&l(a);c<r.length;c++)i=r[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},a=globalThis.webpackChunkgallery_slider=globalThis.webpackChunkgallery_slider||[];a.forEach(l.bind(null,0)),a.push=l.bind(null,a.push.bind(a))})();var o=s.O(void 0,[962],(()=>s(325)));o=s.O(o)})();