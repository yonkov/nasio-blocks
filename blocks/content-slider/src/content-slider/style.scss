/**
 * The following styles get applied both on the front of your site
 * and in the editor.
 */
// Content Slider Block Styles
.wp-block-nasio-block-content-slider {
	margin: 2em 0;
	box-sizing: border-box;

	// Common styles for both carousel and fullwidth modes
	.nasio-content-slider {
		position: relative;
		padding-bottom: 60px; // Space for pagination
		display: block;
		width: 100%;
		box-sizing: border-box;
	}
	
	.swiper-wrapper {
		display: flex;
		width: 100%;
		height: auto;
		flex-wrap: nowrap;
		box-sizing: border-box;
	}
	
	.swiper-slide {
		height: auto;
		min-height: 100px;
		display: flex;
		flex-direction: column;
		margin-right: var(--space-between, 20px);
		flex-shrink: 0;
		box-sizing: border-box;
	}

	// Carousel mode styles
	&.is-display-mode-carousel {
		.swiper-slide {
			width: 100%;
			
			@media (min-width: 480px) {
				// Tablet: 2 slides
				width: calc((100% - var(--space-between)) / 2);
			}
			
			@media (min-width: 768px) {
				// Desktop: Use configured value
				width: calc((100% - (var(--slides-per-view) - 1) * var(--space-between)) / var(--slides-per-view));
			}
		}
	}

	// Fullwidth slider mode styles
	&.is-display-mode-fullwidth {
		.swiper-slide {
			width: 100%;
		}
		
		.nasio-slide, .nasio-slide .wp-block-cover img {
			height: var(--slider-height);
		}
		
		// Fix for fade effect
		.swiper-fade {
			.swiper-slide {
				// Override Swiper's default fade behavior
				opacity: 0 !important;
				visibility: hidden !important;
				
				&.swiper-slide-active {
					// Only show the active slide
					opacity: 1 !important;
					visibility: visible !important;
				}
			}
		}
	}

	// Slide styles
	.nasio-slide {
		width: 100%;
		height: auto;
		min-height: 100px;
		display: flex;
		flex-direction: column;
		border-radius: 8px;
		overflow: hidden;
		box-sizing: border-box;
		
		&-inner {
			display: flex;
			flex-direction: column;
			height: 100%;
			width: 100%;
			min-height: 100px;
			box-sizing: border-box;
		}
	}

	// Swiper Navigation Styles
	.swiper-button-next,
	.swiper-button-prev {
		color: #444;
		background: rgba(255, 255, 255, 0.8);
		width: 40px;
		height: 40px;
		border-radius: 50%;
		box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
		z-index: 10;
		opacity: 0.7;
		position: absolute;
		top: 50%;
		transform: translateY(-50%);
		display: flex;
		align-items: center;
		justify-content: center;

		&:after {
			font-size: 18px;
		}
		
		&:hover {
			opacity: 1;
			background: rgba(255, 255, 255, 0.95);
		}
	}
	
	.swiper-button-prev {
		left: 10px;
	}
	
	.swiper-button-next {
		right: 10px;
	}

	.swiper-pagination {
		bottom: 0;
		position: absolute;
		width: 100%;
		text-align: center;
		z-index: 10;
		display: flex;
		justify-content: center;
		gap: 8px;
		height: 20px;
		padding: 10px 0;

		&-bullet {
			width: 10px;
			height: 10px;
			border-radius: 50%;
			background: #ccc;
			opacity: 0.7;
			cursor: pointer;
			display: inline-block;

			&-active {
				background: #555;
				opacity: 1;
			}
		}
	}
}

/* Editor-specific styles */
.is-editor-preview {
	&.wp-block-nasio-block-content-slider {
		margin-bottom: 3rem;
		
		.nasio-content-slider {
			overflow: hidden;
			
			.swiper-wrapper {
				display: flex;
				flex-wrap: nowrap;
			}
		}
	}
} 

// Extra Swiper-specific fixes for frontend and editor
.swiper {
    margin-left: auto;
    margin-right: auto;
    position: relative;// Changed from hidden to visible for arrows
    list-style: none;
    padding: 0;
    z-index: 1;
    display: block;
    box-sizing: border-box;
}

.swiper-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
    z-index: 1;
    display: flex;
    transition-property: transform;
    box-sizing: content-box;
}

// Ensure all slides have proper sizing
.swiper-slide {
    box-sizing: border-box;
    width: auto;
    flex-shrink: 0;
    height: 100%;
    position: relative;
}

// Ensure all swiper elements are properly styled
.swiper-pagination-bullet {
    display: inline-block;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #ccc;
    opacity: 0.7;
}

.swiper-pagination-bullet-active {
    background: #555;
    opacity: 1;
}

// Ensure Swiper navigation buttons are visible in the editor
.block-editor-block-list__block .wp-block-nasio-block-content-slider {
    .swiper-button-next,
    .swiper-button-prev {
        z-index: 20; // Higher z-index in editor
        opacity: 0.9; // More visible in editor
        
        &:after {
            font-size: 18px;
        }
    }
} 