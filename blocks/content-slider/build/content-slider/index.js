(()=>{"use strict";var e,o={957:()=>{const e=window.wp.blocks,o=window.wp.i18n,s=window.wp.blockEditor,l=window.wp.components,t=window.wp.element,r=window.wp.data,n=window.ReactJSXRuntime,a=s.useInnerBlocksProps||useInnerBlocksPropsCompat,i=JSON.parse('{"UU":"nasio-block/content-slider"}'),c=JSON.parse('{"UU":"nasio-block/slide"}');(0,e.registerBlockType)(c.UU,{edit:function({attributes:e,clientId:o}){const{className:l}=e,t=(0,s.useBlockProps)({className:`${l||""} swiper-slide nasio-slide`}),r=(0,s.useInnerBlocksProps)({},{template:[["core/cover",{customOverlayColor:"#000000",dimRatio:40,isDark:!0},[["core/heading",{placeholder:"Add slide title...",textColor:"white",level:2}]]]],templateLock:!1,allowedBlocks:["core/cover"]});return(0,n.jsx)("div",{...t,children:r.children})},save:function({attributes:e}){const o=s.useBlockProps.save({className:"nasio-slide swiper-slide"});return(0,n.jsx)("div",{...o,children:(0,n.jsx)("div",{className:"nasio-slide-inner",children:(0,n.jsx)(s.InnerBlocks.Content,{})})})}}),(0,e.registerBlockType)(i.UU,{edit:function({attributes:i,setAttributes:c,clientId:d,className:p}){const{slidesPerView:u,spaceBetween:w,sliderHeight:h,loop:b,displayMode:k,autoplay:g,autoplayDelay:v,showDots:m,showArrows:f,draggable:x}=i,[y,_]=(0,t.useState)(!1),j=(0,t.useRef)(null),C=(0,t.useRef)(null),S="undefined"!=typeof window&&window.wp&&window.wp.data&&window.wp.blocks,{selectBlock:B}=(0,r.useDispatch)("core/block-editor"),{innerBlocks:P}=(0,r.useSelect)((e=>({innerBlocks:e("core/block-editor").getBlocks(d)})),[d]),{insertBlock:N,removeBlock:I}=(0,r.useDispatch)("core/block-editor");(0,t.useEffect)((()=>{if(!y&&2===P.length){const o=6-P.length;if(o>0){for(let s=0;s<o;s++)N((0,e.createBlock)("nasio-block/slide"),P.length,d);_(!0)}}}),[P.length,d,y,N]),(0,t.useEffect)((()=>{if(y){const o=2*u;if(P.length<o){const s=o-P.length;for(let o=0;o<s;o++)N((0,e.createBlock)("nasio-block/slide"),P.length,d)}}}),[u,P.length,y,d,N]);const T=(0,s.useBlockProps)({className:`wp-block-nasio-block-content-slider is-display-mode-${k} is-editor-preview ${p||""}`,style:{"--slides-per-view":u,"--space-between":`${w}px`,"--slider-height":"fullwidth"===k?`${h}px`:"auto"}}),A={"nasio-block/displayMode":k},E=a({className:"swiper-wrapper"},{allowedBlocks:["nasio-block/slide"],template:[["nasio-block/slide"],["nasio-block/slide"]],orientation:"horizontal",renderAppender:()=>(0,n.jsx)(s.InnerBlocks.ButtonBlockAppender,{})});(0,t.useEffect)((()=>{if(!S)return;const e=setTimeout((()=>{O()}),500),o=wp.data.subscribe((()=>{const e=wp.data.select("core/block-editor").getSelectedBlock();if(e&&j.current&&j.current.contains(document.querySelector(`[data-block="${e.clientId}"]`))){const e=Date.now();e-D.current>1e3&&(D.current=e,setTimeout((()=>{C.current&&C.current.update()}),50))}}));return()=>{o(),clearTimeout(e),C.current&&(C.current.destroy(!0,!0),C.current=null)}}),[S,k,u,w,h,b,g,v,m,f,x,P.length]);const O=()=>{if(S&&(C.current&&(C.current.destroy(!0,!0),C.current=null),j.current&&void 0!==window.Swiper)){const e=j.current.querySelector(".nasio-content-slider");if(!e)return;Array.from(e.querySelectorAll(".block-editor-block-list__layout > .wp-block-nasio-block-slide")).forEach((e=>{e.classList.add("swiper-slide")}));const o={slidesPerView:"carousel"===k?parseInt(u):1,spaceBetween:"carousel"===k?parseInt(w):0,slidesPerGroup:"carousel"===k?parseInt(u):1,loop:b,observer:!0,observeParents:!0,resizeObserver:!0,allowTouchMove:x,simulateTouch:x,keyboard:{enabled:!0,onlyInViewport:!0},preventClicks:!1,preventClicksPropagation:!1,touchStartPreventDefault:!1,touchMoveStopPropagation:!1};"fullwidth"===k&&(o.slidesPerView=1,o.effect="fade",o.fadeEffect={crossFade:!0},b?o.loopAdditionalSlides=1:(o.loop=!1,o.rewind=!1),o.speed=300),"carousel"===k&&(o.speed=400,parseInt(u)>1&&(o.breakpoints={480:{slidesPerView:Math.min(2,parseInt(u))},768:{slidesPerView:parseInt(u)}})),g&&(o.autoplay={delay:v,disableOnInteraction:!1,pauseOnMouseEnter:!0}),f&&(o.navigation={nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")}),m&&(o.pagination={el:e.querySelector(".swiper-pagination"),clickable:!0,type:"bullets"},"carousel"===k&&(o.slidesPerGroup=parseInt(u),setTimeout((()=>{C.current&&(C.current.pagination.update(),C.current.pagination.render())}),150)));try{C.current=new window.Swiper(e,o),setTimeout((()=>{C.current&&(C.current.update(),j.current.querySelectorAll(".nasio-cover-interceptor").forEach((e=>e.remove())),e.querySelectorAll(".swiper-pagination-bullet").forEach((e=>{e.addEventListener("mousedown",(e=>{e.stopPropagation()}))})),e.querySelectorAll(".swiper-button-next, .swiper-button-prev").forEach((e=>{e.addEventListener("mousedown",(e=>{e.stopPropagation()}))})))}),100)}catch(e){console.error("Error initializing Swiper:",e)}}},D=(0,t.useRef)(0);return(0,n.jsxs)("div",{...T,children:[(0,n.jsx)(s.InspectorControls,{children:(0,n.jsxs)(l.PanelBody,{title:"carousel"===k?(0,o.__)("Carousel Settings","nasio-blocks"):(0,o.__)("Slider Settings","nasio-blocks"),children:[(0,n.jsx)(l.SelectControl,{label:(0,o.__)("Display Mode","nasio-blocks"),value:k,help:(0,o.__)("Choose the content carousel if you want to display multiple columns. The fullwidth slider mode is perfect for fullwidth slides.","nasio-blocks"),options:[{label:(0,o.__)("Carousel","nasio-blocks"),value:"carousel"},{label:(0,o.__)("Fullwidth Slider","nasio-blocks"),value:"fullwidth"}],onChange:e=>c({displayMode:e})}),"carousel"===k&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.RangeControl,{label:(0,o.__)("Slides Per View","nasio-blocks"),value:u,onChange:e=>c({slidesPerView:e}),min:1,max:5}),(0,n.jsx)(l.RangeControl,{label:(0,o.__)("Space Between Slides (px)","nasio-blocks"),value:w,onChange:e=>c({spaceBetween:e}),min:0,max:50})]}),"fullwidth"===k&&(0,n.jsx)(l.RangeControl,{label:(0,o.__)("Slider height (px)","nasio-blocks"),value:h,onChange:e=>c({sliderHeight:e}),min:250,max:1e3}),(0,n.jsx)(l.ToggleControl,{label:(0,o.__)("Show Dots (Pagination)","nasio-blocks"),checked:m,onChange:()=>c({showDots:!m})}),(0,n.jsx)(l.ToggleControl,{label:(0,o.__)("Show Arrows (Navigation)","nasio-blocks"),checked:f,onChange:()=>c({showArrows:!f})}),(0,n.jsx)(l.ToggleControl,{label:(0,o.__)("Drag Slides","nasio-blocks"),checked:x,onChange:()=>c({draggable:!x})}),(0,n.jsx)(l.ToggleControl,{label:"carousel"===k?(0,o.__)("Loop Carousel","nasio-blocks"):(0,o.__)("Loop Slider","nasio-blocks"),checked:b,onChange:()=>c({loop:!b})}),(0,n.jsx)(l.ToggleControl,{label:(0,o.__)("Autoplay","nasio-blocks"),checked:g,onChange:()=>c({autoplay:!g})}),g&&(0,n.jsx)(l.RangeControl,{label:(0,o.__)("Autoplay Delay (ms)","nasio-blocks"),value:v,onChange:e=>c({autoplayDelay:e}),min:1e3,max:1e4,step:500})]})}),(0,n.jsxs)("div",{className:"content-slider-wrapper",ref:j,children:[S&&(0,n.jsx)("div",{className:"nasio-slider-editor-title",children:"fullwidth"===k?(0,o.__)("Content Slider Preview","nasio-blocks"):(0,o.__)("Content Carousel Preview","nasio-blocks")}),(0,n.jsx)(s.BlockContextProvider,{value:A,children:(0,n.jsxs)("div",{className:"nasio-content-slider swiper",children:[(0,n.jsx)("div",{...E}),m&&(0,n.jsx)("div",{className:"swiper-pagination"}),f&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"swiper-button-prev"}),(0,n.jsx)("div",{className:"swiper-button-next"})]})]})})]})]})},save:function({attributes:e}){const{slidesPerView:o=3,spaceBetween:l=20,sliderHeight:t=480,loop:r=!0,displayMode:a="carousel",autoplay:i=!1,autoplayDelay:c=3e3,showDots:d=!0,showArrows:p=!0,draggable:u=!0}=e,w=`wp-block-nasio-block-content-slider is-display-mode-${a}`,h={"data-space-between":l,"data-loop":r,"data-mode":a,"data-autoplay":i,"data-autoplay-delay":c,"data-show-dots":d,"data-show-arrows":p,"data-draggable":u};"carousel"===a&&(h["data-slides-per-view"]=o);const b=s.useBlockProps.save({className:w,style:{"--slides-per-view":o,"--space-between":`${l}px`,"--slider-height":"fullwidth"===a?`${t}px`:void 0},...h});return(0,n.jsx)("div",{...b,children:(0,n.jsxs)("div",{className:"nasio-content-slider swiper",children:[(0,n.jsx)("div",{className:"swiper-wrapper",children:(0,n.jsx)(s.InnerBlocks.Content,{})}),d&&(0,n.jsx)("div",{className:"swiper-pagination"}),p&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"swiper-button-prev"}),(0,n.jsx)("div",{className:"swiper-button-next"})]})]})})}})}},s={};function l(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}};return o[e](r,r.exports,l),r.exports}l.m=o,e=[],l.O=(o,s,t,r)=>{if(!s){var n=1/0;for(d=0;d<e.length;d++){for(var[s,t,r]=e[d],a=!0,i=0;i<s.length;i++)(!1&r||n>=r)&&Object.keys(l.O).every((e=>l.O[e](s[i])))?s.splice(i--,1):(a=!1,r<n&&(n=r));if(a){e.splice(d--,1);var c=t();void 0!==c&&(o=c)}}return o}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[s,t,r]},l.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={837:0,281:0};l.O.j=o=>0===e[o];var o=(o,s)=>{var t,r,[n,a,i]=s,c=0;if(n.some((o=>0!==e[o]))){for(t in a)l.o(a,t)&&(l.m[t]=a[t]);if(i)var d=i(l)}for(o&&o(s);c<n.length;c++)r=n[c],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(d)},s=globalThis.webpackChunkcontent_slider=globalThis.webpackChunkcontent_slider||[];s.forEach(o.bind(null,0)),s.push=o.bind(null,s.push.bind(s))})();var t=l.O(void 0,[281],(()=>l(957)));t=l.O(t)})();